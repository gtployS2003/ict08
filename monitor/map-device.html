<!DOCTYPE html>
<html lang="th">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" type="image/png" href="/ict8/assets/image/logo_หน่วย8.png" />
  <title>ระบบติดตามอุปกรณ์</title>

  <!-- include head -->
  <script src="/ict8/backend/public/config.js.php" defer></script>
  <script src="/ict8/assets/js/include.js" defer></script>
  <script src="/ict8/assets/js/auth.js" defer></script>
  <script src="/ict8/assets/js/main.js" defer></script>

  <!-- Leaflet JS -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin="" defer></script>
  <script src="/ict8/assets/js/devices-map.js" defer></script>
</head>

<body>
  <div id="header-device"></div>
  <div id="device-nav"></div>

  <main class="main">
    <div class="device-map-layout">
      <!-- ====== SIDEBAR ====== -->
      <aside class="device-map-sidebar">
        <!-- แถบควบคุมหลัก -->
        <section class="device-controls">
          <h2 class="device-sidebar-title">จัดการแผนที่อุปกรณ์</h2>

          <!-- ค้นหา -->
          <div class="device-search">
            <label for="device-search" class="device-label">ค้นหาอุปกรณ์</label>
            <div class="device-search-row">
              <input type="text" id="device-search" placeholder="ค้นหาจากชื่ออุปกรณ์ / IP / หน่วยงาน / จังหวัด..." />
              <button id="device-search-clear" type="button" class="btn-secondary">
                ล้าง
              </button>
            </div>
          </div>

          <!-- ตัวกรอง -->
          <div class="device-filters">
            <div class="device-filter-group">
              <label for="device-filter-province" class="device-label">จังหวัด</label>
              <select id="device-filter-province">
                <option value="">ทุกจังหวัด</option>
              </select>
            </div>

            <div class="device-filter-group">
              <label for="device-filter-org" class="device-label">หน่วยงาน</label>
              <select id="device-filter-org">
                <option value="">ทุกหน่วยงาน</option>
              </select>
            </div>

            <div class="device-filter-group">
              <label for="device-filter-main-type" class="device-label">ประเภทหลัก</label>
              <select id="device-filter-main-type">
                <option value="">ทุกประเภทหลัก</option>
              </select>
            </div>

            <div class="device-filter-group">
              <label for="device-filter-type" class="device-label">ประเภทอุปกรณ์</label>
              <select id="device-filter-type">
                <option value="">ทุกประเภทอุปกรณ์</option>
              </select>
            </div>

            <div class="device-filter-group">
              <label for="device-status-filter" class="device-label">สถานะการทำงาน</label>
              <select id="device-status-filter">
                <option value="all">ทุกสถานะ</option>
                <option value="online">Online</option>
                <option value="offline">Offline</option>
                <option value="maintenance">กำลังซ่อม/ดูแล</option>
              </select>
            </div>
          </div>

          <div class="device-actions">
            <button id="device-map-refresh" type="button" class="btn-primary">รีเฟรช</button>
          </div>
        </section>

        <!-- legend สถานะ -->
        <section class="device-legend-section">
          <h3 class="device-sidebar-subtitle">สัญลักษณ์บนแผนที่</h3>
          <ul class="device-legend-list">
            <li>
              <span class="legend-icon legend-online"></span>
              <span>อุปกรณ์ Online</span>
            </li>
            <li>
              <span class="legend-icon legend-offline"></span>
              <span>อุปกรณ์ Offline / กำลังซ่อม</span>
            </li>
          </ul>
        </section>
      </aside>

      <!-- ====== MAP AREA ====== -->
      <section class="map-device">
        <div class="map-device-header">
          <div>
            <h1>แผนที่อุปกรณ์ ICT8 Center เขต 8</h1>
          </div>
          <div class="map-device-summary">
            <div class="summary-pill">
              <span class="summary-label">ทั้งหมด</span>
              <span class="summary-value" id="summary-total">-</span>
            </div>
            <div class="summary-pill online">
              <span class="summary-label">Online</span>
              <span class="summary-value" id="summary-online">-</span>
            </div>
            <div class="summary-pill offline">
              <span class="summary-label">Offline</span>
              <span class="summary-value" id="summary-offline">-</span>
            </div>
          </div>
        </div>

        <div id="device-map"></div>
      </section>
    </div>
  </main>

  <div id="footer-index"></div>
</body>

</html>