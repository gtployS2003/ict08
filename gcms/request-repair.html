<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/png" href="/ict8/assets/image/logo_หน่วย8.png" />
    <title>แจ้งเสีย/ซ่อมอุปกรณ์</title>
    <!-- ฟอนต์ Inter + Noto Sans Thai -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Noto+Sans+Thai:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">

    <!-- ลิงก์ไปยังไฟล์ CSS -->
    <link rel="stylesheet" href="/ict8/assets/css/style.css" />
    <link rel="stylesheet" href="/ict8/assets/css/schedule.css" />
    <link rel="stylesheet" href="/ict8/assets/css/device.css" />
    <link rel="stylesheet" href="/ict8/assets/css/gcms.css" />
    <link rel="stylesheet" href="/ict8/assets/css/login.css" />
    <link rel="stylesheet" href="/ict8/assets/css/profile-setup.css" />

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <!-- include head -->
    <script src="/ict8/backend/public/config.js.php"></script>
    <script src="/ict8/assets/js/api/http.js"></script>
    <script src="/ict8/assets/js/api/requests.api.js"></script>

    <!-- CSS หน้านี้ -->
    <link rel="stylesheet" href="/ict8/assets/css/request-form.css" />

    <script src="/ict8/assets/js/include.js" defer></script>
    <script src="/ict8/assets/js/auth.js" defer></script>
    <script src="/ict8/assets/js/main.js" defer></script>

    <!-- Page JS (ไว้ทำ submit ทีหลัง) -->
    <script src="/ict8/assets/js/request-repair.js" defer></script>
</head>

<body>
    <header id="header-form"></header>

    <main class="request-form-page">
        <div class="request-form-container">

            <section class="request-form-card">
                <div class="request-form-card-header">
                    <div class="request-form-card-title">แจ้งเสีย/ซ่อมอุปกรณ์</div>
                </div>

                <form id="request-repair-form" class="request-form-form">
                    <div class="request-form-grid">

                        <!-- subject -->
                        <div class="request-form-field request-form-span-2">
                            <label class="request-form-label" for="subject">
                                หัวข้อการแจ้ง <span class="request-form-req">*</span>
                            </label>
                            <input class="request-form-input" id="subject" name="subject" type="text"
                                placeholder="เช่น แจ้งซ่อมคอมพิวเตอร์ห้องธุรการ / แจ้งเสีย Printer ชั้น 2" required />
                        </div>

                        <!-- province -->
                        <div class="request-form-field">
                            <label class="request-form-label" for="province_id">
                                จังหวัด <span class="request-form-req">*</span>
                            </label>
                            <select class="request-form-select" id="province_id" name="province_id" required>
                                <option value="">-- กรุณาเลือก --</option>
                            </select>
                        </div>

                        <!-- organization -->
                        <div class="request-form-field">
                            <label class="request-form-label" for="organization_id">
                                หน่วยงาน <span class="request-form-req">*</span>
                            </label>
                            <select class="request-form-select" id="organization_id" name="organization_id" required>
                                <option value="">-- กรุณาเลือกจังหวัดก่อน --</option>
                            </select>
                        </div>

                        <!-- device -->
                        <div class="request-form-field request-form-span-2">
                            <label class="request-form-label" for="device_id">ชื่ออุปกรณ์ <span class="request-form-req">*</span></label>
                            <select class="request-form-select" id="device_id" name="device_id" required>
                                <option value="">-- กรุณาเลือกหน่วยงานก่อน --</option>
                            </select>
                        </div>

                        <!-- type_of_device (auto) -->
                        <div class="request-form-field">
                            <label class="request-form-label" for="type_of_device_title">
                                ประเภทอุปกรณ์
                            </label>
                            <input class="request-form-input" id="type_of_device_title" type="text" readonly
                                placeholder="เลือกชื่ออุปกรณ์เพื่อแสดงประเภท" />
                        </div>

                        <!-- ip address (auto) -->
                        <div class="request-form-field">
                            <label class="request-form-label" for="ip_address">
                                IP Address
                            </label>
                            <input class="request-form-input" id="ip_address" type="text" readonly
                                placeholder="เลือกชื่ออุปกรณ์เพื่อแสดง IP" />
                        </div>

                        <!-- location (auto) -->
                        <div class="request-form-field request-form-span-2">
                            <label class="request-form-label" for="location">
                                สถานที่
                            </label>
                            <input class="request-form-input" id="location" name="location" type="text" readonly
                                placeholder="เลือกหน่วยงานเพื่อแสดงสถานที่" />
                        </div>

                        <!-- detail -->
                        <div class="request-form-field request-form-span-2">
                            <label class="request-form-label" for="detail">
                                รายละเอียดเพิ่มเติม
                            </label>
                            <textarea class="request-form-textarea" id="detail" name="detail" rows="7"
                                placeholder="อธิบายเพิ่มเติมโดยละเอียด เช่น เปิดเครื่องแล้วมีเสียงดัง/หน้าจอดับ, ขึ้น error อะไร, เริ่มมีปัญหาตั้งแต่เมื่อไร, ได้ลองทำอะไรไปแล้วบ้าง"></textarea>
                        </div>

                        <!-- attachments -->
                        <div class="request-form-field request-form-span-2">
                            <label class="request-form-label" for="attachments">
                                แนบเอกสารประกอบ (ถ้ามี)
                            </label>

                            <input class="request-form-file" id="attachments" name="attachments[]" type="file" multiple
                                accept=".pdf,.jpg,.jpeg,.png,.doc,.docx,.xls,.xlsx" />

                            <div class="request-form-hint">
                                รองรับ PDF, รูปภาพ, Word, Excel
                            </div>

                            <ul id="attachments-preview" class="request-form-file-list"></ul>
                        </div>

                    </div>

                    <div class="request-form-actions">
                        <button id="btn-submit-request" class="request-form-btn request-form-btn-primary" type="submit">
                            ส่งแจ้งซ่อม
                        </button>
                    </div>

                    <div class="request-form-footer-note" id="request-form-message" style="display:none;"></div>
                </form>
            </section>

        </div>
    </main>

    <footer id="footer-index"></footer>
</body>

</html>